library(devtools)
usethis::use_data_raw()
library(here)
here()
library(here)
# Read-in .csv file containing US population counts from 1900-1970 Census
us_pop_40 <- read.csv(here::here("data-raw", "census-us-pop","us_pop_40.csv"))
summary(us_pop_40)
head(us_pop_40, 10)
View(us_pop_40)
library(tidyverse)
# Read-in .csv file containing US population counts from 1900-1970 Census
readin <- read.csv(here::here("data-raw", "census-us-pop","us_pop_40.csv"))
summary(readin)
head(readin, 10)
?pivot_longer
# Modify dataframe
us_pop_40 <- readin %>%
select(-c(age.in.year, age.in.2010)) %>%
pivot_longer(
cols = c(male.white, female.white, male.black, female.black, male.other, female.other)
)
View(us_pop_40)
# Modify dataframe
us_pop_40 <- readin %>%
select(-c(age.in.year, age.in.2010)) %>%
pivot_longer(
cols = c(male.white, female.white, male.black, female.black, male.other, female.other),
names_to = "group",
values_to ="count"
)
# Modify dataframe
us_pop_40 <- readin %>%
select(-c(age.in.year, age.in.2010)) %>%
pivot_longer(
cols = c(male.white, female.white, male.black, female.black, male.other, female.other),
names_to = "group",
values_to ="count"
) %>%
separate(
col = group,
into = c("sex", "race"),
sep = "."
)
# Modify dataframe
us_pop_40 <- readin %>%
select(-c(age.in.year, age.in.2010)) %>%
pivot_longer(
cols = c(male.white, female.white, male.black, female.black, male.other, female.other),
names_to = "group",
values_to ="count"
)
# Modify dataframe
us_pop_40 <- readin %>%
select(-c(age.in.year, age.in.2010)) %>%
pivot_longer(
cols = c(male.white, female.white, male.black, female.black, male.other, female.other),
names_to = "group",
values_to ="count"
)
us_pop_40[c("sex", "race")] <- do.call(rbind, strsplit(us_pop_40$group, "."))
strsplit(us_pop_40$group, ".")
strsplit(us_pop_40$group, '.')
us_pop_40$group
?starts_with
?startsWith
# Modify dataframe
us_pop_40 <- readin %>%
select(-c(age.in.year, age.in.2010)) %>%
pivot_longer(
cols = c(male.white, female.white, male.black, female.black, male.other, female.other),
names_to = "group",
values_to ="count"
) %>%
mutate(
sex = ifelse(startsWith(group, "m") , "male", "female")
)
?endsWith
# Modify dataframe
us_pop_40 <- readin %>%
select(-c(age.in.year, age.in.2010)) %>%
pivot_longer(
cols = c(male.white, female.white, male.black, female.black, male.other, female.other),
names_to = "group",
values_to ="count"
) %>%
mutate(
sex = ifelse(startsWith(group, "m") , "male", "female"),
race = case_when(endsWith(group, "white"), "white",
endsWith(group, "black"), "black",
TRUE ~ "other")
)
# Modify dataframe
us_pop_40 <- readin %>%
select(-c(age.in.year, age.in.2010)) %>%
pivot_longer(
cols = c(male.white, female.white, male.black, female.black, male.other, female.other),
names_to = "group",
values_to ="count"
) %>%
mutate(
sex = ifelse(startsWith(group, "m") , "male", "female"),
race = case_when(endsWith(group, "white") ~ "white",
endsWith(group, "black") ~ "black",
TRUE ~ "other")
)
# Modify dataframe
us_pop_40 <- readin %>%
pivot_longer(
cols = c(male.white, female.white, male.black, female.black, male.other, female.other),
names_to = "group",
values_to ="count"
) %>%
mutate(
sex = ifelse(startsWith(group, "m") , "male", "female"),
race = case_when(endsWith(group, "white") ~ "white",
endsWith(group, "black") ~ "black",
TRUE ~ "other")
) %>%
select(c(year, age.in.year, age.in.2010, sex, race, count))
head(us_pop_40, 10)
# Save as .rda file
usethis::use_data(us_pop_40, overwrite = TRUE)
devtools::load_all(".")
us_pop_40
usethis::use_r("us_pop_40")
devtools::document()
?us_pop_40
devtools::document()
?us_pop_40
devtools::document()
?us_pop_40
usethis::use_package_doc()
usethis::use_tibble()
devtools::document()
?bladdertargets
devtools::install()
bladdertargets::us_pop_40
install.packages("remotes")
devtools::load_all(".")
?bladdertargets
?tidyverse
?bladdertargets
?us_pop_40
?bladdertargets
?bladdertargets
?bladdertargets
devtools::document()
?bladdertargets
devtools::document()
?bladdertargets
?bladdertargets
?bladdertargets
bladdertargets::us_pop_40
